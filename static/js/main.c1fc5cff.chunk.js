(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),c=(a(13),a(1)),o=a(2),u=a(5),l=a(3),h=a(4),p=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"location"},this.props.city?this.props.city+", ":"Loading...",this.props.state?this.props.state:"")}}]),a}(r.a.Component),d=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("img",{src:this.props.url,alt:this.props.alt,className:"icon"})}}]),a}(r.a.Component),m=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"temperature"},this.props.temperature?this.props.temperature+" F":"TEMPERATURE")}}]),a}(r.a.Component),f=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"windDirection"},this.props.direction?this.props.direction:"WIND DIRECTION")}}]),a}(r.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"windSpeed"},this.props.speed?this.props.speed:"SPEED")}}]),a}(r.a.Component),b=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wind"},r.a.createElement(f,{direction:this.props.direction}),r.a.createElement(v,{speed:this.props.speed}))}}]),a}(r.a.Component),y=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.icon,a=e.shortForecast,n=e.temperature,i=e.windDirection,s=e.windSpeed,c="halfPeriod";return c+=e.isDaytime?" day":" night",r.a.createElement("div",{className:c},r.a.createElement(d,{url:t,alt:a}),r.a.createElement("div",{className:"forecastData"},r.a.createElement(m,{temperature:n}),r.a.createElement(b,{direction:i,speed:s})))}}]),a}(r.a.Component),j=["January","February","March","April","May","June","July","August","September","October","November","December"],O=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=Number(this.props.date.substring(5,7)),t=Number(this.props.date.substring(8,10))+1;return console.log(t),r.a.createElement("div",{className:"date"},"".concat(j[e-1]," ").concat(t))}}]),a}(r.a.Component),E=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"period"},r.a.createElement(O,{date:this.props.date,day:this.props.halfPeriods}),this.props.halfPeriods.map((function(e){return r.a.createElement(y,{data:e,key:e.number})})))}}]),a}(r.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=n.handleInput.bind(Object(u.a)(n)),n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.state={input:""},n}return Object(o.a)(a,[{key:"handleInput",value:function(e){this.setState({input:e.target.value})}},{key:"handleSearch",value:function(){this.props.handleSearch(this.state.input)}},{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"searchInput",type:"text",onChange:this.handleInput,placeholder:"City or Zip Code"}),r.a.createElement("input",{type:"submit",className:"searchButton",onClick:this.handleSearch,value:"Search"}))}}]),a}(r.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).fetchWeatherData=n.fetchWeatherData.bind(Object(u.a)(n)),n.resizePeriods=n.resizePeriods.bind(Object(u.a)(n)),n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.handleDataLoading=n.handleDataLoading.bind(Object(u.a)(n)),n.handleSevenDayForecast=n.handleSevenDayForecast.bind(Object(u.a)(n)),n.handleHourlyForecast=n.handleHourlyForecast.bind(Object(u.a)(n)),n.state={isLoaded:!1,location:n.props.defaultLocation,showIndividualDay:!0,hourlyForecastIsLoad:!1,lat:38.9071923,lng:-77.0368707},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchWeatherData()}},{key:"componentDidUpdate",value:function(){this.state.isLoaded?this.resizePeriods():this.fetchWeatherData()}},{key:"fetchWeatherData",value:function(){var e=this,t=this.state.lat+","+this.state.lng;console.log("fetchWeatherData("+t+")"),fetch("https://api.weather.gov/points/"+t).then((function(e){return e.json()})).then((function(t){return e.handleDataLoading(t)}))}},{key:"handleDataLoading",value:function(e){var t=this,a={city:e.properties.relativeLocation.properties.city,state:e.properties.relativeLocation.properties.state};fetch(e.properties.forecast).then((function(e){return e.json()})).then((function(e){return t.handleSevenDayForecast(e.properties.periods,a)})),fetch(e.properties.forecastHourly).then((function(e){return e.json()})).then((function(e){return t.handleHourlyForecast(e.properties.periods)}))}},{key:"handleSevenDayForecast",value:function(e,t){for(var a=[],n=0;n<14;n+=2){var r=e[n],i=e[n+1],s={date:r.startTime.substring(0,10),halfPeriods:[r,i]};a.push(s)}this.setState({forecast:{location:t,sevenDayForecast:a},isLoaded:!0})}},{key:"handleHourlyForecast",value:function(e){var t=[],a=[];e.forEach((function(e){var n=e.startTime.indexOf("T");parseInt(e.startTime.substring(n+1,n+3))<23?a.push(e):(a.push(e),t.push({date:e.startTime.substring(0,n),hours:a}),a=[])})),this.setState({hourlyForecast:t,hourlyForecastIsLoad:!0})}},{key:"handleSearch",value:function(e){var t=this,a="https://maps.googleapis.com/maps/api/geocode/json?address="+e.replace(" ","+")+"&key=AIzaSyDqN67XiDvWTXoXyPNxPHW0VLqdUN2T2GU";fetch(a).then((function(e){return e.json()})).then((function(a){return t.setState({isLoaded:!1,location:e,lat:a.results[0].geometry.location.lat,lng:a.results[0].geometry.location.lng})}))}},{key:"resizePeriods",value:function(){for(var e=document.getElementsByClassName("periodTitle"),t=0,a=0;a<e.length;a++){var n=e.item(a).clientHeight;t=n>t?n:t}for(var r=0;r<e.length;r++)e.item(r).style.height=t+"px"}},{key:"render",value:function(){var e=this.state.isLoaded?this.state.forecast.location:"",t=e.city,a=e.state,n=(this.state.isLoaded?this.state.forecast:"").sevenDayForecast;return r.a.createElement("div",{className:"weatherApp"},r.a.createElement("div",{className:"top"},r.a.createElement(g,{handleSearch:this.handleSearch}),r.a.createElement(p,{city:t,state:a})),r.a.createElement("div",{className:"periods"},this.state.isLoaded?n.map((function(e){return r.a.createElement(E,{date:e.date,halfPeriods:e.halfPeriods,key:e.date})})):""))}}]),a}(r.a.Component);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))};s.a.render(r.a.createElement(k,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.c1fc5cff.chunk.js.map