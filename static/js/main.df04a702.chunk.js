(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),s=(a(13),a(1)),c=a(2),u=a(5),l=a(3),h=a(4),p=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"location"},this.props.city?this.props.city+", ":"Loading...",this.props.state?this.props.state:"")}}]),a}(r.a.Component),d=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"title"},this.props.title)}}]),a}(r.a.Component),m=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hourTime"},this.props.time?this.props.time:"HOUR TIME")}}]),a}(r.a.Component),f=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hourlyTemperature"},this.props.temperature?this.props.temperature+" \xb0F":"HOURLY TEMPERATURE")}}]),a}(r.a.Component),v=(r.a.Component,r.a.Component,function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.icon,e.temperature),a=e.shortForecast,n=this.props.time.indexOf("T"),i=this.props.time.substring(n+1,n+3)+"00";return r.a.createElement("div",{className:"col hour",style:{width:"120px"}},r.a.createElement(m,{time:i}),"                ",r.a.createElement(f,{temperature:t,alt:a}),"            ")}}]),a}(r.a.Component)),b=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hourGroup"},this.props.hours?this.props.hours.map((function(e){return r.a.createElement(v,{key:e.startTime,time:e.startTime,icon:e.icon,temperature:e.temperature,shortForecast:e.shortForecast})})):"")}}]),a}(r.a.Component),y=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.forecast,t=e.date,a=e.hours;return r.a.createElement("div",{className:"individualPeriod"},r.a.createElement(d,{title:t}),r.a.createElement(b,{hours:a}))}}]),a}(r.a.Component),O=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("img",{src:this.props.url,alt:this.props.alt,className:"icon"})}}]),a}(r.a.Component),j=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"forecast"},this.props.forecast?this.props.forecast:"FORECAST")}}]),a}(r.a.Component),E=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"temperature"},this.props.temperature?this.props.temperature+" F":"TEMPERATURE")}}]),a}(r.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"windDirection"},this.props.direction?this.props.direction:"WIND DIRECTION")}}]),a}(r.a.Component),k=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"windSpeed"},this.props.speed?this.props.speed:"SPEED")}}]),a}(r.a.Component),N=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wind"},r.a.createElement(g,{direction:this.props.direction}),r.a.createElement(k,{speed:this.props.speed}))}}]),a}(r.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.name,a=e.icon,n=e.shortForecast,i=e.temperature,o=e.windDirection,s=e.windSpeed,c="halfPeriod";return c+=e.isDaytime?" day":" night",r.a.createElement("div",{className:c},r.a.createElement(d,{title:t}),r.a.createElement(O,{url:a,alt:n}),r.a.createElement("div",{className:"forecastData"},r.a.createElement(j,{forecast:n}),r.a.createElement(E,{temperature:i}),r.a.createElement(N,{direction:o,speed:s})))}}]),a}(r.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"date"},this.props.date?this.props.date:"DATE")}}]),a}(r.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"period"},r.a.createElement(C,{date:this.props.date}),this.props.halfPeriods.map((function(e){return r.a.createElement(D,{data:e,key:e.number})})))}}]),a}(r.a.Component),F=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=n.handleInput.bind(Object(u.a)(n)),n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.state={input:""},n}return Object(c.a)(a,[{key:"handleInput",value:function(e){this.setState({input:e.target.value})}},{key:"handleSearch",value:function(){this.props.handleSearch(this.state.input)}},{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"searchInput",type:"text",onChange:this.handleInput,placeholder:"City or Zip Code"}),r.a.createElement("input",{type:"submit",className:"searchButton",onClick:this.handleSearch,value:"Search"}))}}]),a}(r.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fetchWeatherData=n.fetchWeatherData.bind(Object(u.a)(n)),n.resizePeriods=n.resizePeriods.bind(Object(u.a)(n)),n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.handleDataLoading=n.handleDataLoading.bind(Object(u.a)(n)),n.handleSevenDayForecast=n.handleSevenDayForecast.bind(Object(u.a)(n)),n.handleHourlyForecast=n.handleHourlyForecast.bind(Object(u.a)(n)),n.state={isLoaded:!1,location:n.props.defaultLocation,showIndividualDay:!0,hourlyForecastIsLoad:!1,lat:39.0914657,lng:-93.2104421},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchWeatherData()}},{key:"componentDidUpdate",value:function(){this.state.isLoaded?this.resizePeriods():this.fetchWeatherData()}},{key:"fetchWeatherData",value:function(){var e=this,t=this.state.lat+","+this.state.lng;console.log("fetchWeatherData("+t+")"),fetch("https://api.weather.gov/points/"+t).then((function(e){return e.json()})).then((function(t){return e.handleDataLoading(t)}))}},{key:"handleDataLoading",value:function(e){var t=this,a={city:e.properties.relativeLocation.properties.city,state:e.properties.relativeLocation.properties.state};fetch(e.properties.forecast).then((function(e){return e.json()})).then((function(e){return t.handleSevenDayForecast(e.properties.periods,a)})),fetch(e.properties.forecastHourly).then((function(e){return e.json()})).then((function(e){return t.handleHourlyForecast(e.properties.periods)}))}},{key:"handleSevenDayForecast",value:function(e,t){for(var a=[],n=0;n<14;n+=2){var r=e[n],i=e[n+1],o={date:r.startTime.substring(0,10),halfPeriods:[r,i]};a.push(o)}this.setState({forecast:{location:t,sevenDayForecast:a},isLoaded:!0})}},{key:"handleHourlyForecast",value:function(e){var t=[],a=[];e.map((function(e){var n=e.startTime.indexOf("T");parseInt(e.startTime.substring(n+1,n+3))<23?a.push(e):(a.push(e),t.push({date:e.startTime.substring(0,n),hours:a}),a=[])})),this.setState({hourlyForecast:t,hourlyForecastIsLoad:!0})}},{key:"handleSearch",value:function(e){var t=this,a="https://maps.googleapis.com/maps/api/geocode/json?address="+e.replace(" ","+")+"&key=AIzaSyDqN67XiDvWTXoXyPNxPHW0VLqdUN2T2GU";fetch(a).then((function(e){return e.json()})).then((function(a){return t.setState({isLoaded:!1,location:e,lat:a.results[0].geometry.location.lat,lng:a.results[0].geometry.location.lng})}))}},{key:"resizePeriods",value:function(){for(var e=document.getElementsByClassName("periodTitle"),t=0,a=0;a<e.length;a++){var n=e.item(a).clientHeight;t=n>t?n:t}for(var r=0;r<e.length;r++)e.item(r).style.height=t+"px";for(var i=document.getElementsByClassName("day"),o=0,s=0;s<i.length;s++){var c=i.item(s).clientHeight;o=c>o?c:o}for(var u=0;u<i.length;u++)i.item(u).style.height=o+"px";for(var l=document.getElementsByClassName("night"),h=0,p=0;p<l.length;p++){var d=l.item(p).clientHeight;h=d>h?d:h}for(var m=0;m<l.length;m++)l.item(m).style.height=h+"px"}},{key:"render",value:function(){var e=this.state.isLoaded?this.state.forecast.location:"",t=e.city,a=e.state,n=this.state,i=n.showIndividualDay,o=n.hourlyForecastIsLoad,s=(this.state.isLoaded?this.state.forecast:"").sevenDayForecast;return r.a.createElement("div",{className:"weatherApp"},r.a.createElement("div",{className:"top"},r.a.createElement(F,{handleSearch:this.handleSearch}),r.a.createElement(p,{city:t,state:a})),i&&o?r.a.createElement(y,{forecast:this.state.hourlyForecast[2]}):"",r.a.createElement("div",{className:"periods"},this.state.isLoaded?s.map((function(e){return r.a.createElement(S,{date:e.date,halfPeriods:e.halfPeriods,key:e.date})})):""))}}]),a}(r.a.Component);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,{defaultLocation:"39.7456,-97.0892"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.df04a702.chunk.js.map